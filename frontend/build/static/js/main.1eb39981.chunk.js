(this["webpackJsonpexpense-tracker-frontend"]=this["webpackJsonpexpense-tracker-frontend"]||[]).push([[0],{52:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),o=a.n(s),c=a(10),i=a(2),d=a(27);var u=a.n(d).a.create({baseURL:`${window.location.origin}`}),l=(a(52),a(1));var b=()=>{const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),s=Object(i.f)();return Object(l.jsxs)("form",{className:"login-form",onSubmit:async t=>{t.preventDefault();try{const t=await u.post("/auth/login",{username:e,password:a});localStorage.setItem("token",t.data.token),s.push("/dashboard")}catch(n){alert("Invalid credentials")}},children:[Object(l.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Username",required:!0}),Object(l.jsx)("input",{type:"password",value:a,onChange:e=>r(e.target.value),placeholder:"Password",required:!0}),Object(l.jsx)("button",{type:"submit",children:"Login"}),Object(l.jsxs)("p",{children:["Don't have an account? ",Object(l.jsx)(c.b,{to:"/register",children:"Register here"})]})]})};a(59);var j=()=>{const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),s=Object(i.f)();return Object(l.jsxs)("form",{className:"register-form",onSubmit:async t=>{t.preventDefault();try{await u.post("/auth/register",{username:e,password:a}),s.push("/login")}catch(n){alert("Registration failed")}},children:[Object(l.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Username",required:!0}),Object(l.jsx)("input",{type:"password",value:a,onChange:e=>r(e.target.value),placeholder:"Password",required:!0}),Object(l.jsx)("button",{type:"submit",children:"Register"})]})};a(60);var p=e=>{let{onExpenseAdded:t}=e;const[a,r]=Object(n.useState)(""),[s,o]=Object(n.useState)("");return Object(l.jsxs)("form",{className:"expense-form",onSubmit:async e=>{e.preventDefault();const n=localStorage.getItem("token");await u.post("/expenses",{amount:a,description:s},{headers:{Authorization:`Bearer ${n}`}}),r(""),o(""),t()},children:[Object(l.jsx)("input",{type:"number",value:a,onChange:e=>r(e.target.value),placeholder:"Amount",required:!0}),Object(l.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Description",required:!0}),Object(l.jsx)("button",{type:"submit",children:"Add Expense"})]})},h=a(12),g=a(4);a(61);g.c.register(g.b,g.e,g.a,g.f,g.g,g.d);var m=e=>{let{data:t}=e;const a={labels:t.map((e=>e.category)),datasets:[{label:"Expenses",data:t.map((e=>e.amount)),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]};return Object(l.jsx)("div",{className:"chart-container",children:Object(l.jsx)(h.a,{data:a})})};a(62);var x=()=>{const[e,t]=Object(n.useState)([]),a=async()=>{const e=localStorage.getItem("token"),a=await u.get("/expenses",{headers:{Authorization:`Bearer ${e}`}});t(a.data)};Object(n.useEffect)((()=>{a()}),[]);const r={labels:e.map((e=>e.description)),datasets:[{label:"Expenses",data:e.map((e=>e.amount)),backgroundColor:"rgba(75, 192, 192, 0.6)"}]};return Object(l.jsxs)("div",{className:"dashboard",children:[Object(l.jsx)("h1",{children:"Dashboard"}),Object(l.jsx)(p,{onExpenseAdded:a}),Object(l.jsx)(h.a,{data:r}),Object(l.jsx)(m,{data:[{category:"Food",amount:200},{category:"Transport",amount:100},{category:"Entertainment",amount:150}]})]})};var O=function(){return Object(l.jsx)(c.a,{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/login",component:b}),Object(l.jsx)(i.a,{path:"/register",component:j}),Object(l.jsx)(i.a,{path:"/dashboard",component:x}),Object(l.jsx)(i.a,{path:"/",exact:!0,component:b})]})})};a(63);o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.1eb39981.chunk.js.map